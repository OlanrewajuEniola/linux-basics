name: Linux Basics CI

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      APP_NAME: linux-basics
      ENVIRONMENT: ci

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Show repository structure
        run: |
          pwd
          ls -la

      - name: Run a simple shell check
        run: |
          echo "CI pipeline is running for $APP_NAME in $ENVIRONMENT"
          bash --version

      - name: Intentional failure (learning exercise)
        run: |
          echo "About to fail on purpose"
          exit 0

      - name: Demonstrate secret usage
        run: |
          echo "Secret is configured (value hidden)"
        env:
          SECRET_VALUE: ${{ secrets.DEMO_SECRET }}

      - name: Run repo script
        run: |
          chmod +x scripts/hello.sh
          ./scripts/hello.sh

